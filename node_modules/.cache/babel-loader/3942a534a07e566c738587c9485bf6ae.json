{"ast":null,"code":"import _slicedToArray from \"/Users/valeria/Desktop/phd/TYP/Chatbot/chatbot-interface/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/valeria/Desktop/phd/TYP/Chatbot/chatbot-interface/src/App.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport LoginForm from './components/Login.js';\nimport Website from './components/Website/Website.js';\nimport NewsPreferences from './components/NewsPreferences';\nimport RegistrationForm from './components/RegistrationForm.js';\nvar App = function App() {\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isLoggedIn = _useState2[0],\n    setIsLoggedIn = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedCategories = _useState4[0],\n    setSelectedCategories = _useState4[1]; //const [allArticles, setAllArticles] = useState([]); // This state will hold all articles\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    articles = _useState6[0],\n    setArticles = _useState6[1]; // This state will hold only the articles that match the selected categories\n  // Function to fetch all articles when the app loads\n  var fetchArticles = function fetchArticles() {\n    axios.get('http://127.0.0.1:5000/api/data').then(function (response) {\n      console.log(response);\n      setArticles(response.data);\n    }).catch(function (error) {\n      console.error('There was an error fetching the data:', error);\n    });\n  };\n  useEffect(fetchArticles, []); // Run once on mount\n\n  var fetchArticlesByCategory = function fetchArticlesByCategory(categories) {\n    // Assuming 'articles' is the full list of articles fetched initially\n    // and that the categories parameter is an array of selected category names.\n    var filteredArticles = articles.filter(function (article) {\n      return categories.includes(article[3]);\n    }); // Index 3 is the category in the data structure\n    setArticles(filteredArticles);\n    console.log(filteredArticles); // Using console.log on filteredArticles to see the result\n  };\n\n  var handleLogin = function handleLogin(username) {\n    setIsLoggedIn(true);\n  };\n  var handlePreferencesSubmit = function handlePreferencesSubmit(categories) {\n    setSelectedCategories(categories);\n    axios.post('http://127.0.0.1:5000/api/recommend', {\n      categories: categories\n    }).then(function (response) {\n      // Handle the response containing the recommendations\n      setArticles(response.data);\n      console.log(response.data);\n    }).catch(function (error) {\n      console.error('Error fetching recommendations:', error);\n    });\n  };\n  return /*#__PURE__*/React.createElement(Router, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Routes, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/register\",\n    element: /*#__PURE__*/React.createElement(RegistrationForm, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 44\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    element: isLoggedIn ? /*#__PURE__*/React.createElement(Navigate, {\n      to: \"/news-preferences\",\n      replace: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 54\n      }\n    }) : /*#__PURE__*/React.createElement(LoginForm, {\n      onLogin: handleLogin,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 100\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/news-preferences\",\n    element: !isLoggedIn ? /*#__PURE__*/React.createElement(Navigate, {\n      to: \"/login\",\n      replace: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 66\n      }\n    }) : /*#__PURE__*/React.createElement(NewsPreferences, {\n      onPreferencesSubmit: handlePreferencesSubmit,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 101\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/website\",\n    element: /*#__PURE__*/React.createElement(Website, {\n      selectedCategories: selectedCategories,\n      articles: articles,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 43\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    element: isLoggedIn ? /*#__PURE__*/React.createElement(Navigate, {\n      to: \"/news-preferences\",\n      replace: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 49\n      }\n    }) : /*#__PURE__*/React.createElement(Navigate, {\n      to: \"/login\",\n      replace: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 95\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }))));\n};\nexport default App;","map":{"version":3,"names":["React","useEffect","useState","axios","BrowserRouter","Router","Routes","Route","Navigate","LoginForm","Website","NewsPreferences","RegistrationForm","App","_useState","_useState2","_slicedToArray","isLoggedIn","setIsLoggedIn","_useState3","_useState4","selectedCategories","setSelectedCategories","_useState5","_useState6","articles","setArticles","fetchArticles","get","then","response","console","log","data","catch","error","fetchArticlesByCategory","categories","filteredArticles","filter","article","includes","handleLogin","username","handlePreferencesSubmit","post","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","path","element","to","replace","onLogin","onPreferencesSubmit"],"sources":["/Users/valeria/Desktop/phd/TYP/Chatbot/chatbot-interface/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport LoginForm from './components/Login.js';\nimport Website from './components/Website/Website.js';\nimport NewsPreferences from './components/NewsPreferences';\nimport RegistrationForm from './components/RegistrationForm.js';\n\nconst App = () => {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [selectedCategories, setSelectedCategories] = useState([]);\n  //const [allArticles, setAllArticles] = useState([]); // This state will hold all articles\n  const [articles, setArticles] = useState([]); // This state will hold only the articles that match the selected categories\n\n  // Function to fetch all articles when the app loads\n  const fetchArticles = () => {\n    axios.get('http://127.0.0.1:5000/api/data')\n      .then(response => {\n        console.log(response);\n        setArticles(response.data);\n      })\n      .catch(error => {\n        console.error('There was an error fetching the data:', error);\n      });\n  };\n\n  useEffect(fetchArticles, []); // Run once on mount\n\n  const fetchArticlesByCategory = (categories) => {\n    // Assuming 'articles' is the full list of articles fetched initially\n    // and that the categories parameter is an array of selected category names.\n    const filteredArticles = articles.filter(article => \n      categories.includes(article[3])); // Index 3 is the category in the data structure\n    setArticles(filteredArticles);\n    console.log(filteredArticles); // Using console.log on filteredArticles to see the result\n  };\n  \n\n  const handleLogin = (username) => {\n    setIsLoggedIn(true);\n  };\n\n  const handlePreferencesSubmit = (categories) => {\n    setSelectedCategories(categories);\n    axios.post('http://127.0.0.1:5000/api/recommend', { categories: categories })\n      .then(response => {\n        // Handle the response containing the recommendations\n        setArticles(response.data);\n        console.log(response.data);\n      })\n      .catch(error => {\n        console.error('Error fetching recommendations:', error);\n      });\n  };\n  \n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Routes>\n          <Route path=\"/register\" element={<RegistrationForm />} />\n          <Route path=\"/login\" element={isLoggedIn ? <Navigate to=\"/news-preferences\" replace /> : <LoginForm onLogin={handleLogin} />} />\n          <Route path=\"/news-preferences\" element={!isLoggedIn ? <Navigate to=\"/login\" replace /> : <NewsPreferences onPreferencesSubmit={handlePreferencesSubmit} />} />\n          <Route path=\"/website\" element={<Website selectedCategories={selectedCategories} articles={articles} />} />\n          <Route path=\"/\" element={isLoggedIn ? <Navigate to=\"/news-preferences\" replace /> : <Navigate to=\"/login\" replace />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}